"use strict";(self.webpackChunkimio_smartweb_core_webcomponents=self.webpackChunkimio_smartweb_core_webcomponents||[]).push([[486],{47486:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var l=a(25602),r=a(8174),n=a(41665),c=a(64651),s=a(32101),i=a(86110),o=a(83198),m=a(72668),u=a(94274),h=a(68473);function p(e,t){if(null==e)return{};var a,l,r=function(e,t){if(null==e)return{};var a={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(-1!==t.indexOf(l))continue;a[l]=e[l]}return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(l=0;l<n.length;l++)a=n[l],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e,t,a){return(t=E(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function E(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}const f=function(e){let t=(0,n.Zp)();const[a,r]=(0,l.useState)(e.activeFilter),[c,d]=(0,l.useState)([]),[g,f]=(0,l.useState)(null),[w,b]=(0,l.useState)(null),[y,x]=(0,l.useState)(!1),[N,C]=(0,l.useState)(null),{response:k,error:_,isLoading:O}=(0,i.A)({method:"get",url:"",baseURL:e.url,headers:{Accept:"application/json"},params:a});(0,l.useEffect)((()=>{if(null!==k){const e=k.topics&&k.topics.map((e=>({value:e.token,label:e.title}))),t=k.taxonomy_contact_category&&k.taxonomy_contact_category.map((e=>({value:e.token,label:e.title}))),a=k.facilities&&k.facilities.map((e=>({value:e.token,label:e.title})));d(e),f(t),b(a)}}),[k]);const A=(0,l.useCallback)((e=>{let{target:{name:t,value:a}}=e;a.length>2?r((e=>v(v({},e),{},{[t]:a})),[]):r((e=>{const a=v({},e),{[t]:l}=a;return p(a,[t].map(E))}))})),z=(0,l.useCallback)(((e,t)=>{const a=t.name;e?r((t=>v(v({},t),{},{[a]:e.value})),[]):r((e=>{const t=v({},e),{[a]:l}=t;return p(t,[a].map(E))}))})),S=(0,l.useRef)(!0);(0,l.useEffect)((()=>{S.current?S.current=!1:(t({pathname:"./",search:m.A.stringify(a)}),e.onChange(a))}),[a]);let j=c&&c.filter((t=>t.value===e.activeFilter.topics)),M=g&&g.filter((t=>t.value===e.activeFilter.taxonomy_contact_category)),P=w&&w.filter((t=>t.value===e.activeFilter.facilities)),H=u.c&&u.c.filter((t=>t.value===e.activeFilter.topics));return l.createElement(l.Fragment,null,l.createElement("div",{className:"react-filters-menu"},l.createElement("div",{className:"react-filters-container"},l.createElement("form",{className:"r-filter r-filter-search",onSubmit:function(t){t.preventDefault(),e.onChange(a)}},l.createElement("div",{className:"relative"},l.createElement(o.rk,null,(e=>{let{translate:t}=e;return l.createElement("input",{className:"input-custom-class",name:"SearchableText",type:"text",value:a.SearchableText,onChange:A,placeholder:t({text:"Recherche"})})})),l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"#9f9f9f",strokeWidth:"4","aria-hidden":"true",display:"block",overflow:"visible",style:{height:16,width:16},viewBox:"0 0 32 32"},l.createElement("path",{d:"M13 24a11 11 0 1 0 0-22 11 11 0 0 0 0 22zm8-3 9 9"})))),l.createElement("button",{className:"more-filter-btn collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"false","aria-controls":"collapseOne"},l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",style:{height:16,width:16},fill:"none",stroke:"currentColor",strokeWidth:"3","aria-hidden":"true",display:"block",overflow:"visible"},l.createElement("path",{d:"M7 16H3m26 0H15M29 6h-4m-8 0H3m26 20h-4M7 16a4 4 0 108 0 4 4 0 00-8 0zM17 6a4 4 0 108 0 4 4 0 00-8 0zm0 20a4 4 0 108 0 4 4 0 00-8 0zm0 0H3"}))),l.createElement("div",{className:"react-sep-menu"}),l.createElement("div",{className:"r-filter top-filter topics-Filter"},l.createElement(o.rk,null,(e=>{let{translate:t}=e;return l.createElement(s.Ay,{styles:h.E,name:"topics",className:"select-custom-no-border",isClearable:!0,onChange:z,options:c&&c,placeholder:t({text:"Thématiques"}),value:j&&j[0]})}))),l.createElement("div",{className:"r-filter top-filter iam-Filter"},l.createElement(o.rk,null,(e=>{let{translate:t}=e;return l.createElement(s.Ay,{styles:h.E,name:"iam",className:"select-custom-no-border",isClearable:!0,onChange:z,options:u.c&&u.c,placeholder:t({text:"Profil"}),value:H&&H[0]})}))),l.createElement("div",{className:"r-filter  top-filter facilities-Filter"},l.createElement(o.rk,null,(e=>{let{translate:t}=e;return l.createElement(s.Ay,{styles:h.E,name:"facilities",className:"select-custom-no-border",isClearable:!0,onChange:z,options:w&&w,placeholder:t({text:"Facilités"}),value:P&&P[0]})}))))),l.createElement("div",{id:"collapseOne",className:"accordion-collapse collapse more-filter-container ","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},l.createElement("div",{className:"accordion-body"},l.createElement("div",{className:"r-filter  facilities-Filter"},l.createElement(o.rk,null,(e=>{let{translate:t}=e;return l.createElement(s.Ay,{styles:h.o,name:"taxonomy_contact_category_for_filtering",className:"select-custom-class library-facilities",isClearable:!0,onChange:z,options:g&&g,placeholder:t({text:"Catégories"}),value:M&&M[0]})}))))))};var w=a(18874),b=a(91015);a(1053);const y=["u"];const x=e=>{let{queryUrl:t,onChange:a,contextAuthenticatedUser:r}=e;const c=(0,n.Zp)(),s=Object.assign({UID:m.A.parse((0,w.A)().toString()).u,fullobjects:1}),{u}=s,h=function(e,t){if(null==e)return{};var a,l,r=function(e,t){if(null==e)return{};var a={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(-1!==t.indexOf(l))continue;a[l]=e[l]}return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(l=0;l<n.length;l++)a=n[l],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(s,y),[p,d]=(0,l.useState)(h),[v,g]=(0,l.useState)({}),[E,f]=(0,l.useState)(),[x,N]=(0,l.useState)(),[C,k]=(0,l.useState)([]),[_,O]=(0,l.useState)(),[A,z]=(0,l.useState)(!0),{response:S}=(0,i.A)({method:"get",url:"",baseURL:t,headers:{Accept:"application/json"},params:p},[]);(0,l.useEffect)((()=>{d(h)}),[m.A.parse((0,w.A)().toString()).u]),(0,l.useEffect)((()=>{null!==S&&g(S.items[0]),window.scrollTo({top:0,left:0,behavior:"instant"})}),[S]),(0,l.useEffect)((()=>{if(v.image_affiche_scale){const e=new Image;e.src=v.image_affiche_scale,e.onload=()=>{O(e)}}}),[v]),(0,l.useEffect)((()=>{v.urls&&k(v.urls.filter((e=>"website"!==e.type)))}),[v]),(0,l.useEffect)((()=>{v.items&&v.items.length>0&&(f(v.items.filter((e=>"File"===e["@type"]))),N(v.items.filter((e=>"Image"===e["@type"]))))}),[v]);let j=v.country&&v.country.title,M="https://www.google.com/maps/dir/?api=1&destination="+v.street+"+"+v.number+"+"+v.complement+"+"+v.zipcode+"+"+v.city+"+"+j;M=M.replaceAll("+null","");return l.createElement("div",{className:"annuaire-content r-content"},l.createElement("button",{type:"button",onClick:function(){c(".."),a(null)}},l.createElement(o.HT,{text:"Retour"})),"False"===r?l.createElement("a",{href:v["@id"],target:"_blank",title:"Editer la fiche",className:"edit-rest-elements edit-rest-elements-content"},l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil-square",viewBox:"0 0 16 16"},l.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),l.createElement("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"}))):"",l.createElement("article",null,l.createElement("header",null,l.createElement("h2",{className:"r-content-title"},v.title),v.subtitle?l.createElement("h3",{className:"r-content-subtitle"},v.subtitle):""),v.image_affiche_scale&&l.createElement("figure",{className:"r-content-figure"},l.createElement("div",{className:"r-content-figure-blur",style:{backgroundImage:"url("+v.image_affiche_scale+")"}}),l.createElement("img",{className:"r-content-figure-img",src:v.image_affiche_scale,style:{objectFit:_&&_.width>=_.height?"cover":"contain"},alt:""}))),l.createElement("div",{className:"contactCard"},l.createElement("div",{className:"contactText"},l.createElement("div",{className:"r-content-description"},l.createElement(b.o,null,v.description)),l.createElement("div",{className:"contactTextAll"},l.createElement("p",{className:"annuaire-info-title"},l.createElement(o.HT,{text:"Infos pratiques"})),v.category?l.createElement("span",null,v.category):"",v.street?l.createElement("div",{className:"annaire-adresse"},l.createElement("div",{className:"annaire-adresse-icon"},l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},l.createElement("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"}))),l.createElement("div",{className:"annaire-adresse-content"},l.createElement("a",{href:M,target:"_blank",rel:"noreferrer"},v.number?l.createElement("span",null,v.number+" "):"",v.street?l.createElement("span",null,v.street+", "):"",v.complement?l.createElement("span",null,v.complement+", "):"",v.zipcode?l.createElement("span",null,v.zipcode+" "):"",v.city?l.createElement("span",null,v.city):""))):"",v.table_date&&l.createElement("a",{href:"javascript:void(0)",onClick:()=>{z(!A)},className:"annuaire-schedul",role:"button","aria-expanded":"false","aria-label":"Afficher l'horaire complet"},l.createElement("div",{className:"annuaire-schedul-icon"},l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-clock-fill",viewBox:"0 0 16 16"},l.createElement("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71z"}))),l.createElement("div",{className:"annuaire-schedul-content"},A?l.createElement(l.Fragment,null,l.createElement("span",{className:"Fermé"===v.schedule_for_today?"annuaire-day-close":"annuaire-day-open"},l.createElement(o.HT,{text:v.schedule_for_today})),l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",fill:"currentColor",className:"bi bi-caret-down-fill",viewBox:"0 0 16 16"},l.createElement("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"}))):l.createElement("div",null,l.createElement("ul",null,v.table_date.map(((e,t)=>{const a=Object.keys(e)[0],r=e[a];return l.createElement("li",{key:t},l.createElement("strong",null,l.createElement(o.HT,{text:a}),":")," ",r)})))))),v.phones&&v.phones.length>0?l.createElement("div",{className:"annuaire-phone"},l.createElement("div",{className:"annuaire-phone-icon"},l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},l.createElement("path",{d:"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"}))),l.createElement("div",{className:"annuaire-phone-content"},v.phones.map(((e,t)=>l.createElement("span",{key:t},e.label?e.label+": ":"",l.createElement("a",{href:"tel:"+e.number},e.number)))))):"",v.mails&&v.mails.length>0?l.createElement("div",{className:"annuaire-website-mails"},l.createElement("div",{className:"annuaire-website-mails-icon"},l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},l.createElement("path",{d:"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.801V4.697l-5.803 3.546Z"}))),l.createElement("div",{className:"annuaire-website-mails-content"},v.mails.map(((e,t)=>l.createElement("span",{key:t},e.label?e.label+": ":"",l.createElement("a",{href:"mailto:"+e.mail_address},e.mail_address)))))):"",v.urls&&v.urls.length>0?l.createElement("div",{className:"annuaire-website-link"},l.createElement("div",{className:"annuaire-website-link-icon"},l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},l.createElement("path",{d:"M2.5 2A1.5 1.5 0 0 0 1 3.5V12h14V3.5A1.5 1.5 0 0 0 13.5 2h-11zM0 12.5h16a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 12.5z"}))),l.createElement("ul",{className:"annuaire-website-link-content"},v.urls.filter((e=>"website"===e.type)).map(((e,t)=>l.createElement(l.Fragment,null,l.createElement("li",{key:t},l.createElement("a",{href:e.url,target:"_blank",rel:"noreferrer"},e.url))))))):"",C&&l.createElement("div",{className:"annuaire-social-link"},C.length>1?l.createElement("ul",null,C.map(((e,t)=>l.createElement("li",{key:t},l.createElement("a",{href:e.url,target:"_blank",rel:"noreferrer"},"facebook"===e.type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},l.createElement("path",{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"})):"instagram"===e.type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},l.createElement("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"})):"twitter"===e.type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-twitter-x",viewBox:"0 0 16 16"},l.createElement("path",{d:"M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"})):"youtube"===e.type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},l.createElement("path",{d:"M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31.4 31.4 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A99.788 99.788 0 0 1 7.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z"})):"linkedin"===e.type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-linkedin",viewBox:"0 0 16 16"},l.createElement("path",{d:"M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"})):"pinterest"===e.type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},l.createElement("path",{d:"M8 0a8 8 0 0 0-2.915 15.452c-.07-.633-.134-1.606.027-2.297.146-.625.938-3.977.938-3.977s-.239-.479-.239-1.187c0-1.113.645-1.943 1.448-1.943.682 0 1.012.512 1.012 1.127 0 .686-.437 1.712-.663 2.663-.188.796.4 1.446 1.185 1.446 1.422 0 2.515-1.5 2.515-3.664 0-1.915-1.377-3.254-3.342-3.254-2.276 0-3.612 1.707-3.612 3.471 0 .688.265 1.425.595 1.826a.24.24 0 0 1 .056.23c-.061.252-.196.796-.222.907-.035.146-.116.177-.268.107-1-.465-1.624-1.926-1.624-3.1 0-2.523 1.834-4.84 5.286-4.84 2.775 0 4.932 1.977 4.932 4.62 0 2.757-1.739 4.976-4.151 4.976-.811 0-1.573-.421-1.834-.919l-.498 1.902c-.181.695-.669 1.566-.995 2.097A8 8 0 1 0 8 0z"})):""))))):l.createElement("div",null,l.createElement("a",{href:C[0]&&C[0].url,target:"_blank",rel:"noreferrer"},C[0]&&"facebook"===C[0].type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},l.createElement("path",{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"})):C[0]&&"instagram"===C[0].type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},l.createElement("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"})):C[0]&&"twitter"===C[0].type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-twitter-x",viewBox:"0 0 16 16"},l.createElement("path",{d:"M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"})):C[0]&&"youtube"===C[0].type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},l.createElement("path",{d:"M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31.4 31.4 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A99.788 99.788 0 0 1 7.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z"})):C[0]&&"linkedin"===C[0].type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-linkedin",viewBox:"0 0 16 16"},l.createElement("path",{d:"M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"})):C[0]&&"pinterest"===C[0].type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},l.createElement("path",{d:"M8 0a8 8 0 0 0-2.915 15.452c-.07-.633-.134-1.606.027-2.297.146-.625.938-3.977.938-3.977s-.239-.479-.239-1.187c0-1.113.645-1.943 1.448-1.943.682 0 1.012.512 1.012 1.127 0 .686-.437 1.712-.663 2.663-.188.796.4 1.446 1.185 1.446 1.422 0 2.515-1.5 2.515-3.664 0-1.915-1.377-3.254-3.342-3.254-2.276 0-3.612 1.707-3.612 3.471 0 .688.265 1.425.595 1.826a.24.24 0 0 1 .056.23c-.061.252-.196.796-.222.907-.035.146-.116.177-.268.107-1-.465-1.624-1.926-1.624-3.1 0-2.523 1.834-4.84 5.286-4.84 2.775 0 4.932 1.977 4.932 4.62 0 2.757-1.739 4.976-4.151 4.976-.811 0-1.573-.421-1.834-.919l-.498 1.902c-.181.695-.669 1.566-.995 2.097A8 8 0 1 0 8 0z"})):""))),v.logo_thumb_scale?l.createElement("img",{className:"annuaire-logo",src:v.logo_thumb_scale,alt:""}):"")),E&&l.createElement("div",{className:"r-content-files"},E.map(((e,t)=>l.createElement("div",{key:t,className:"r-content-file"},l.createElement("a",{href:e.targetUrl,className:"r-content-file-link",rel:"nofollow"},l.createElement("span",{className:"r-content-file-title"},e.title),l.createElement("span",{className:"r-content-file-icon"},l.createElement("svg",{width:"21",height:"21",viewBox:"0 0 24 24",fill:"none",stroke:"#8899a4","stroke-width":"2","stroke-linecap":"square","stroke-linejoin":"arcs"},l.createElement("path",{d:"M3 15v4c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2v-4M17 9l-5 5-5-5M12 12.8V2.5"})))))))),x&&l.createElement("div",{className:"r-content-gallery"},l.createElement("div",{className:"spotlight-group flexbin r-content-gallery"},x.map(((e,t)=>l.createElement("a",{key:t,className:"spotlight",href:e.image_full_scale},l.createElement("img",{src:e.image_preview_scale,alt:""}))))))))},N=e=>{let{item:t,contextAuthenticatedUser:a}=e;const[r,n]=(0,l.useState)(new Image),[c,s]=(0,l.useState)(""),i=t.title&&t.title,m=t.taxonomy_contact_category&&t.taxonomy_contact_category[0],u=t.number?t.number:"",h=t.street?t.street:"",p=t.complement?t.complement:"",d=t.zipcode?t.zipcode:"",v=t.city?t.city:"",g=t.phones?t.phones:"",E=t.mails?t.mails:"",f=t.topics?t.topics:"";let w=t.country&&t.country.title,b="https://www.google.com/maps/dir/?api=1&destination="+t.street+"+"+t.number+"+"+t.complement+"+"+t.zipcode+"+"+t.city+"+"+w;return b=b.replaceAll("+null",""),(0,l.useEffect)((()=>{(t.image_affiche_scale||t.logo_thumb_scale)&&(async()=>{const e=new Image,a=t.image_affiche_scale||t.logo_thumb_scale||"";e.src=a;try{await e.decode(),n(e);const t=e.width<e.height?"img-contain":"img-cover";s(t)}catch(e){console.error("Error loading image:",e)}})()}),[t]),l.createElement(l.Fragment,null,"False"===a?l.createElement("a",{href:t["@id"],target:"_blank",title:"Editer la fiche",className:"edit-rest-elements"},l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil-square",viewBox:"0 0 16 16"},l.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),l.createElement("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"}))):"",l.createElement("div",{className:"r-list-item"},r&&r.src?l.createElement(l.Fragment,null,l.createElement("div",{className:"r-item-img"},l.createElement("div",{className:"r-content-figure-blur",style:{backgroundImage:"url("+r.src+")"}}),l.createElement("img",{className:"r-content-figure-img "+c,src:r.src,alt:""}))):l.createElement(l.Fragment,null,l.createElement("div",{className:"r-item-img r-item-img-placeholder"})),l.createElement("div",{className:"r-item-text"},l.createElement("span",{className:"r-item-title"},i),m?l.createElement("span",{className:"r-item-categorie"},m.title):"",l.createElement("div",{className:"r-item-all"},h?l.createElement("div",{className:"r-item-adresse"},u?l.createElement("span",null,u+" "):"",h?l.createElement("span",null,h+", "):"",p?l.createElement("span",null,p+", "):"",l.createElement("br",null),d?l.createElement("span",null,d+" "):"",v?l.createElement("span",null,v):"",l.createElement("div",{className:"itineraty"},l.createElement("a",{href:b,target:"_blank",rel:"noreferrer"},l.createElement(o.HT,{text:"Itinéraire"})))):"",l.createElement("div",{className:"r-item-contact"},l.createElement("div",{className:"phones"},g?g.map(((e,t)=>l.createElement("span",{key:t},e.number))):""),l.createElement("div",{className:"mails"},E?E.map(((e,t)=>l.createElement("span",{key:t},e.mail_address))):""),l.createElement("div",{className:"topics"},f?f.slice(0,3).map(((e,t)=>l.createElement("span",{key:t},e.title))):""))))))};var C=a(75681),k=a.n(C);const _=e=>{let{contactArray:t,onChange:a,onHover:n,contextAuthenticatedUser:s}=e;const{scrollPos:i,updateScrollPos:o}=(0,l.useContext)(c.z);function m(e){n(e)}return(0,l.useEffect)((()=>{window.scrollTo({top:i,left:0,behavior:"instant"})}),[t]),l.createElement(l.Fragment,null,l.createElement("ul",{className:"r-result-list annuaire-result-list"},t.map(((e,t)=>l.createElement("li",{key:t,className:"r-list-item-group",onMouseEnter:()=>m(e.UID),onMouseLeave:()=>m(null),onClick:()=>{return t=e.UID,a(t),void o(window.scrollY);var t}},l.createElement(r.N_,{className:"r-list-item-link",style:{textDecoration:"none"},to:{pathname:"/"+k()(e.title).replace(/[^a-zA-Z ]/g,"").replace(/\s/g,"-").toLowerCase(),search:"?u=".concat(e.UID),state:{idItem:e.UID}}}),l.createElement(N,{item:e,contextAuthenticatedUser:s,key:e.created}))))))};var O=a(97378),A=a(48743);const z=["u"];function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){M(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function M(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function P(e){const[t,a]=(0,l.useState)(0);return l.createElement(r.Kd,{basename:e.viewPath},l.createElement(o.Kq,{language:e.currentLanguage,translation:A.A},l.createElement(c.z.Provider,{value:{scrollPos:t,updateScrollPos:e=>{a(e)}}},l.createElement(H,{queryFilterUrl:e.queryFilterUrl,queryUrl:e.queryUrl,proposeUrl:e.proposeUrl,batchSize:e.batchSize,displayMap:e.displayMap,contextAuthenticatedUser:e.contextAuthenticatedUser}))))}function H(e){const t=Object.assign({b_start:0,fullobjects:1},m.A.parse((0,w.A)().toString())),{u:a}=t,r=function(e,t){if(null==e)return{};var a,l,r=function(e,t){if(null==e)return{};var a={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(-1!==t.indexOf(l))continue;a[l]=e[l]}return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(l=0;l<n.length;l++)a=n[l],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,z),{scrollPos:s,updateScrollPos:u}=(0,l.useContext)(c.z),[h,p]=(0,l.useState)([]),[d,v]=(0,l.useState)([]),[g,E]=(0,l.useState)(null),[b,y]=(0,l.useState)(null),[N,C]=(0,l.useState)(r),[k,A]=(0,l.useState)(0),[S,M]=(0,l.useState)(!1),P="True"===e.displayMap,{response:H,error:U,isLoading:L,isMore:F}=(0,i.A)({method:"get",url:"",baseURL:e.queryUrl,headers:{Accept:"application/json"},params:N,load:S},[]);(0,l.useEffect)((()=>{null!==H&&(p(F?e=>[...e,...H.items]:H.items),v(H.items_total))}),[H]);const B=e=>{E(e)},T=e=>{y(e)};(0,l.useEffect)((()=>{C((e=>j(j({},e),{},{b_start:k})))}),[k]);const I=(0,l.useRef)(),[V,q]=l.useState({height:0}),[D,Z]=(0,l.useState)(0);let R,K;(0,l.useEffect)((()=>{q({height:I.current.clientHeight}),Z(I.current.offsetTop)}),[I]),h&&h.length>0?(R=l.createElement(_,{onChange:B,contactArray:h,onHover:T,contextAuthenticatedUser:e.contextAuthenticatedUser}),K=l.createElement(O.A,{headerHeight:V.height+D,clickId:g,hoverId:b,items:h,queryUrl:e.queryUrl})):L||(R=l.createElement("p",null,l.createElement(o.HT,{text:"Aucun contact n'a été trouvé"})));const W=l.createElement("div",{className:"lds-roller-container"},l.createElement("div",{className:"lds-roller"},l.createElement("div",null),l.createElement("div",null),l.createElement("div",null),l.createElement("div",null),l.createElement("div",null),l.createElement("div",null),l.createElement("div",null),l.createElement("div",null)));return l.createElement("div",{className:"ref ".concat(P?"view-map":"no-map")},l.createElement("div",{className:"r-result-filter-container",ref:I,style:{top:D}},l.createElement("div",{id:"r-result-filter",className:"r-result-filter container annuaire-result-filter"},l.createElement(f,{url:e.queryFilterUrl,activeFilter:N,onChange:e=>{M(!1),A((()=>0)),C(e),window.scrollTo(0,0)}}),e.proposeUrl&&l.createElement("div",{className:"r-add-contact"},l.createElement("a",{target:"_blank",rel:"noreferrer",href:e.proposeUrl},l.createElement(o.HT,{text:"Proposer un contact"}),l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-plus-circle",viewBox:"0 0 16 16"},l.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),l.createElement("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"})))),d>0?l.createElement("p",{className:"r-results-numbers"},l.createElement("span",null,d),d>1?l.createElement(o.HT,{text:"contacts trouvés"}):l.createElement(o.HT,{text:"contact trouvé"})):l.createElement("p",{className:"r-results-numbers"},l.createElement(o.HT,{text:"Aucun résultat"})))),l.createElement(n.BV,null,l.createElement(n.qh,{exact:!0,path:"/",element:l.createElement("div",{className:"r-wrapper container r-annuaire-wrapper"},l.createElement("div",{className:"r-result r-annuaire-result"},l.createElement("div",null,R),l.createElement("div",{className:"r-load-more"},d-e.batchSize>k?l.createElement("div",null,l.createElement("span",{className:"no-more-result"},L?W:""),l.createElement("button",{onClick:()=>{u(window.scrollY),A((t=>t+parseInt(e.batchSize))),M(!0)},className:"btn-grad"},L?l.createElement(o.HT,{text:"Chargement..."}):l.createElement(o.HT,{text:"Plus de résultats"}))):l.createElement("span",{className:"no-more-result"},L?W:""))),P&&l.createElement("div",{className:"r-map annuaire-map",style:{top:V.height+D,height:"calc(100vh-"+V.height+D}},K))}),l.createElement(n.qh,{path:"/:name",element:l.createElement("div",{className:"r-wrapper container r-annuaire-wrapper"},l.createElement("div",{className:"r-result r-annuaire-result"},l.createElement(x,{queryUrl:e.queryUrl,onChange:B,contextAuthenticatedUser:e.contextAuthenticatedUser})),P&&l.createElement("div",{className:"r-map annuaire-map",style:{top:V.height+D,height:"calc(100vh-"+V.height+D}},K))})))}}}]);