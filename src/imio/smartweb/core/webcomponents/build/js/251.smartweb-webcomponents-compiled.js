"use strict";(self.webpackChunkimio_smartweb_core_webcomponents=self.webpackChunkimio_smartweb_core_webcomponents||[]).push([[251],{56939:(e,t,r)=>{r.r(t),r.d(t,{default:()=>I});var l=r(25602),a=r(8174),n=r(41665),c=r(64651),i=r(32101),o=r(86110),s=r(83198),m=r(72668),u=r(5762),p=r.n(u);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)({}).hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},d.apply(null,arguments)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,l)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var l=r.call(e,t||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){let{onChange:t,sub:r,title:a,token:n,isActive:c,setCat:o,onClick:s,unique:m}=e;const[u,p]=(0,l.useState)({first:null,second:null,third:null}),[h,g]=(0,l.useState)({secondLevel:m||!1,thirdLevel:!1}),[f,E]=(0,l.useState)({firstLevel:null,secondLevel:null}),b=(0,l.useMemo)(()=>r?r.map(e=>v({value:e.token,label:e.title},e.sub&&{sub:e.sub})):null,[r]),w=(0,l.useCallback)(()=>{g(e=>({secondLevel:!e.secondLevel,thirdLevel:!1})),p(e=>v(v({},e),{},{second:null,third:null}))},[]),y=(0,l.useCallback)((e,r)=>{if(null!=e&&e.sub){const l=e.sub.map(e=>({value:e.token,label:e.title}));p(t=>v(v({},t),{},{second:e.label,third:null})),E(e=>v(v({},e),{},{secondLevel:l})),g(e=>v(v({},e),{},{thirdLevel:!0})),t(e,r)}else p(t=>v(v({},t),{},{second:e.label,third:null})),E(e=>v(v({},e),{},{secondLevel:null})),t(e,r)},[t]),x=(0,l.useCallback)((e,r)=>{p(t=>v(v({},t),{},{third:e.label})),t(e,r)},[t]),N=(0,l.useCallback)((e,r)=>{o(e=>!e),h.secondLevel?t(null,{name:"taxonomy_contact_category_for_filtering"}):t({value:e,label:r},{name:"taxonomy_contact_category_for_filtering"})},[h.secondLevel,t,o]);return(0,l.useEffect)(()=>{c||(g({secondLevel:m||!1,thirdLevel:!1}),p(e=>v(v({},e),{},{second:null,third:null})))},[c,m]),(0,l.useEffect)(()=>{r&&E(e=>v(v({},e),{},{firstLevel:b}))},[r,b]),l.createElement("div",{onClick:s},l.createElement("div",{className:h.secondLevel?"dropDownFilter dropDownFilter-active":"dropDownFilter"},l.createElement("a",{className:"sub0",style:m?{display:"none"}:{},href:"#",value:a,onClick:e=>{e.preventDefault(),w(),N(n,a)}},a),f.firstLevel&&l.createElement("div",d({className:h.secondLevel?"sub1 dropDownFilter-visible":"sub1 dropDownFilter-invisble"},!h.secondLevel&&{inert:""}),l.createElement(i.Ay,{name:"taxonomy_contact_category_for_filtering",className:"select-custom-class library-facilities react-select-container ".concat(u.second&&"Catégories"!==u.second?"select-has-value":""),classNamePrefix:"react-select-custom-multi",onChange:y,options:f.firstLevel,value:u.second,placeholder:u.second?u.second:"Catégories"})),f.secondLevel&&l.createElement("div",d({className:h.thirdLevel?"sub2 dropDownFilter-visible":"sub2 dropDownFilter-invisble"},!h.thirdLevel&&{inert:""}),l.createElement(i.Ay,{name:"taxonomy_contact_category_for_filtering",className:"react-custom-multi-select-container library-facilities ".concat(u.third&&"Catégories"!==u.third?"select-has-value":""),classNamePrefix:"react-select-custom-multi",onChange:x,options:f.secondLevel,value:u.third,placeholder:u.third?u.third:"Catégories"}))))}f.propTypes={onChange:p().func.isRequired,sub:p().arrayOf(p().shape({token:p().string.isRequired,title:p().string.isRequired,sub:p().array})),title:p().string.isRequired,token:p().string.isRequired,isActive:p().bool,setCat:p().func.isRequired,onClick:p().func,unique:p().bool},f.defaultProps={isActive:!1,onClick:()=>{},unique:!1};const E=f;var b=r(94274),w=r(68473);function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)({}).hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},y.apply(null,arguments)}function x(e,t){if(null==e)return{};var r,l,a=function(e,t){if(null==e)return{};var r={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(-1!==t.indexOf(l))continue;r[l]=e[l]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(l=0;l<n.length;l++)r=n[l],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,l)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach(function(t){O(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O(e,t,r){return(t=k(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var l=r.call(e,t||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}const _=function(e){let t=(0,n.Zp)();const[r,a]=(0,l.useState)(e.activeFilter),c={b_start:0,fullobjects:1},[u,p]=(0,l.useState)([]),[d,h]=(0,l.useState)(null),[v,g]=(0,l.useState)(null),[f,N]=(0,l.useState)(null),[O,_]=(0,l.useState)(!1),[A,S]=(0,l.useState)(null),[j,z]=(0,l.useState)(!1),L=(0,l.useMemo)(()=>({method:"get",url:"",baseURL:e.url,headers:{Accept:"application/json"},params:c}),[e.url]),{response:P,error:M,isLoading:H}=(0,o.A)(L),U=(0,l.useMemo)(()=>{var e,t,r;if(!P)return null;const l=null===(e=P.topics)||void 0===e?void 0:e.map(e=>({value:e.token,label:e.title})),a=function(e){let t=[];return e.forEach(e=>{let r=e.title.split(" » "),l=e.token,a=t;r.forEach(e=>{let t=a.find(t=>t.title===e);if(t)t.sub||(t.sub=[]),a=t.sub;else{let t={title:e,token:l,sub:[]};a.push(t),a=t.sub}})}),JSON.parse(JSON.stringify(t).replace(/,"sub":\[\]/g,""))}(P.taxonomy_contact_category);return{topics:l,taxonomy:null===(t=P.taxonomy_contact_category)||void 0===t?void 0:t.map(e=>({value:e.token,label:e.title})),facilities:null===(r=P.facilities)||void 0===r?void 0:r.map(e=>({value:e.token,label:e.title})),taxodonnee:a}},[P]);(0,l.useEffect)(()=>{U&&(p(U.topics),h(U.taxodonnee),g(U.taxonomy),N(U.facilities))},[U]);const q=(0,l.useCallback)(e=>{let{target:{name:t,value:r}}=e;r.length>2?a(e=>C(C({},e),{},{[t]:r}),[]):a(e=>{const r=C({},e),{[t]:l}=r;return x(r,[t].map(k))})}),F=(0,l.useCallback)((e,t)=>{const r=t.name;e?a(t=>C(C({},t),{},{[r]:e.value}),[]):a(e=>{const t=C({},e),{[r]:l}=t;return x(t,[r].map(k))})}),T=(0,l.useRef)(!0);(0,l.useEffect)(()=>{T.current?T.current=!1:(t({pathname:"./",search:m.A.stringify(r)}),e.onChange(r))},[r]);let B=u&&u.filter(t=>t.value===e.activeFilter.topics),D=(v&&v.filter(t=>t.value===e.activeFilter.taxonomy_contact_category),f&&f.filter(t=>t.value===e.activeFilter.facilities)),I=b.c&&b.c.filter(t=>t.value===e.activeFilter.topics);const V=e=>{S(e)};return(0,l.useEffect)(()=>{const e=()=>{z(window.innerWidth<=630)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),l.createElement(l.Fragment,null,l.createElement("div",{className:"react-filters-menu"},l.createElement("div",{className:"react-filters-container"},l.createElement("form",{className:"r-filter r-filter-search",onSubmit:function(t){t.preventDefault(),e.onChange(r)}},l.createElement("div",{className:"relative"},l.createElement(s.rk,null,e=>{let{translate:t}=e;return l.createElement("input",{className:"input-custom-class",name:"SearchableText",type:"text",value:r.SearchableText,onChange:q,placeholder:t({text:"Recherche"})})}),l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"#9f9f9f",strokeWidth:"4","aria-hidden":"true",display:"block",overflow:"visible",style:{height:16,width:16},viewBox:"0 0 32 32"},l.createElement("path",{d:"M13 24a11 11 0 1 0 0-22 11 11 0 0 0 0 22zm8-3 9 9"})))),l.createElement("div",{className:"react-sep-menu"}),l.createElement("div",{className:"r-filter top-filter topics-Filter"},l.createElement(s.rk,null,e=>{let{translate:t}=e;return l.createElement(i.Ay,{styles:w.E,name:"topics",className:"select-custom-no-border",isClearable:!0,onChange:F,options:u&&u,placeholder:t({text:"Thématiques"}),value:B&&B[0]})})),l.createElement("div",{className:"r-filter top-filter iam-Filter"},l.createElement(s.rk,null,e=>{let{translate:t}=e;return l.createElement(i.Ay,{styles:w.E,name:"iam",className:"select-custom-no-border",isClearable:!0,onChange:F,options:b.c&&b.c,placeholder:t({text:"Profil"}),value:I&&I[0]})})),l.createElement("div",{className:"r-filter  top-filter facilities-Filter"},l.createElement(s.rk,null,e=>{let{translate:t}=e;return l.createElement(i.Ay,{styles:w.E,name:"facilities",className:"select-custom-no-border",isClearable:!0,onChange:F,options:f&&f,placeholder:t({text:"Facilités"}),value:D&&D[0]})})))),l.createElement("button",{className:"more-filter-btn more-filter-btn-annuaire collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"false","aria-controls":"collapseOne"},l.createElement("span",null,l.createElement(s.rk,null,e=>{let{translate:t}=e;return l.createElement("span",null,t({text:"Catégories"}))})),l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",style:{height:16,width:16},fill:"none",stroke:"currentColor",strokeWidth:"3","aria-hidden":"true",display:"block",overflow:"visible"},l.createElement("path",{d:"M7 16H3m26 0H15M29 6h-4m-8 0H3m26 20h-4M7 16a4 4 0 108 0 4 4 0 00-8 0zM17 6a4 4 0 108 0 4 4 0 00-8 0zm0 20a4 4 0 108 0 4 4 0 00-8 0zm0 0H3"}))),l.createElement("div",{id:"collapseOne",className:"accordion-collapse ".concat(j?"collapse":""," more-filter-container"),"aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},l.createElement("div",{className:"accordion-body-annuaire"},1!==(null==d?void 0:d.length)?l.createElement("span",{className:"accordion-body-annuaire-title-full-screen"},l.createElement(s.rk,null,e=>{let{translate:t}=e;return l.createElement("span",null,t({text:"Catégories"}))})):"",l.createElement("div",{className:"taxonomy-Filter"},1===(null==d?void 0:d.length)?l.createElement(E,y({},d[0],{setCat:_,isActive:0===A,onClick:()=>V(0),onChange:F,unique:!0})):null==d?void 0:d.map((e,t)=>l.createElement(E,y({key:t},e,{setCat:_,isActive:t===A,onClick:()=>V(t),onChange:F,unique:!1})))))))};var A=r(18874),S=r(8872);r(1053);const j=["u"];const z=e=>{let{queryUrl:t,onChange:r,contextAuthenticatedUser:a}=e;const c=(0,n.Zp)(),i=Object.assign({UID:m.A.parse((0,A.A)().toString()).u,fullobjects:1}),{u}=i,p=function(e,t){if(null==e)return{};var r,l,a=function(e,t){if(null==e)return{};var r={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(-1!==t.indexOf(l))continue;r[l]=e[l]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(l=0;l<n.length;l++)r=n[l],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(i,j),[d,h]=(0,l.useState)(p),[v,g]=(0,l.useState)({}),[f,E]=(0,l.useState)(),[b,w]=(0,l.useState)(),[y,x]=(0,l.useState)([]),[N,C]=(0,l.useState)(),[O,k]=(0,l.useState)(!0),{response:_,isLoading:z,error:L}=(0,o.A)({method:"get",url:"",baseURL:t,headers:{Accept:"application/json"},params:d},[]);(0,l.useEffect)(()=>{h(p)},[m.A.parse((0,A.A)().toString()).u]),(0,l.useEffect)(()=>{null!==_&&g(_.items[0]),window.scrollTo({top:0,left:0,behavior:"instant"})},[_]),(0,l.useEffect)(()=>{if(v.image_affiche_scale){const e=new Image;e.src=v.image_affiche_scale,e.onload=()=>{C(e)}}},[v]),(0,l.useEffect)(()=>{if(!v||!v.title)return;document.title=v.title;const e=(null==N?void 0:N.width)||"",t=(null==N?void 0:N.height)||"";[{name:"description"},{property:"og:title"},{property:"og:description"},{property:"og:url"},{property:"og:type"},{property:"og:image"},{property:"og:image:type"},{property:"og:image:alt"},{property:"og:image:width"},{property:"og:image:height"}].forEach(e=>{let{name:t,property:r}=e;const l=t?'meta[name="'.concat(t,'"]'):'meta[property="'.concat(r,'"]'),a=document.head.querySelector(l);a&&document.head.removeChild(a)});const r=[{name:"description",content:[v.subtitle,v.description].filter(Boolean).join(" - ")},{property:"og:title",content:v.title},{property:"og:description",content:[v.subtitle,v.description].filter(Boolean).join(" - ")},{property:"og:url",content:"undefined"!=typeof window?window.location.href:""},{property:"og:type",content:"profile"}];v.image_affiche_scale&&(r.push({property:"og:image",content:v.image_affiche_scale}),e&&t&&(r.push({property:"og:image:width",content:e}),r.push({property:"og:image:height",content:t}))),r.forEach(e=>{let{name:t,property:r,content:l}=e;const a=document.createElement("meta");t&&a.setAttribute("name",t),r&&a.setAttribute("property",r),a.setAttribute("content",l),document.head.appendChild(a)})},[v,N]),(0,l.useEffect)(()=>{v.urls&&x(v.urls.filter(e=>"website"!==e.type))},[v]),(0,l.useEffect)(()=>{v.items&&v.items.length>0&&(E(v.items.filter(e=>"File"===e["@type"])),w(v.items.filter(e=>"Image"===e["@type"])))},[v]);let P=v.country&&v.country.title,M="https://www.google.com/maps/dir/?api=1&destination="+v.street+"+"+v.number+"+"+v.complement+"+"+v.zipcode+"+"+v.city+"+"+P;M=M.replaceAll("+null","");return z?l.createElement("div",{className:"lds-roller-container"},l.createElement(s.HT,{text:"Chargement..."}),l.createElement("div",{className:"lds-roller"},l.createElement("div",null),l.createElement("div",null),l.createElement("div",null),l.createElement("div",null),l.createElement("div",null),l.createElement("div",null),l.createElement("div",null),l.createElement("div",null))):l.createElement("div",{className:"annuaire-content r-content"},l.createElement("button",{type:"button",onClick:function(){c(".."),r(null)}},l.createElement(s.HT,{text:"Retour"})),"False"===a?l.createElement("a",{href:v["@id"],target:"_blank",title:"Editer la fiche",className:"edit-rest-elements edit-rest-elements-content"},l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil-square",viewBox:"0 0 16 16"},l.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),l.createElement("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"}))):"",l.createElement("article",null,l.createElement("header",null,l.createElement("h2",{className:"r-content-title"},v.title),v.subtitle?l.createElement("h3",{className:"r-content-subtitle"},v.subtitle):""),v.image_affiche_scale&&l.createElement("figure",{className:"r-content-figure"},l.createElement("div",{className:"r-content-figure-blur",style:{backgroundImage:"url("+v.image_affiche_scale+")"}}),l.createElement("img",{className:"r-content-figure-img",src:v.image_affiche_scale,style:{objectFit:N&&N.width>=N.height?"cover":"contain"},alt:""}))),l.createElement("div",{className:"contactCard"},l.createElement("div",{className:"contactText"},l.createElement("div",{className:"r-content-description"},l.createElement(S.oz,null,v.description)),l.createElement("div",{className:"contactTextAll"},l.createElement("p",{className:"annuaire-info-title"},l.createElement(s.HT,{text:"Infos pratiques"})),v.category?l.createElement("span",null,v.category):"",v.street?l.createElement("div",{className:"annaire-adresse"},l.createElement("div",{className:"annaire-adresse-icon"},l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},l.createElement("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"}))),l.createElement("div",{className:"annaire-adresse-content"},l.createElement("a",{href:M,target:"_blank",rel:"noreferrer"},v.number?l.createElement("span",null,v.number+" "):"",v.street?l.createElement("span",null,v.street+", "):"",v.complement?l.createElement("span",null,v.complement+", "):"",v.zipcode?l.createElement("span",null,v.zipcode+" "):"",v.city?l.createElement("span",null,v.city):""))):"",v.table_date&&l.createElement("a",{href:"javascript:void(0)",onClick:()=>{k(!O)},className:"annuaire-schedul",role:"button","aria-expanded":"false","aria-label":"Afficher l'horaire complet"},l.createElement("div",{className:"annuaire-schedul-icon"},l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-clock-fill",viewBox:"0 0 16 16"},l.createElement("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71z"}))),l.createElement("div",{className:"annuaire-schedul-content"},O?l.createElement(l.Fragment,null,l.createElement("span",{className:"Fermé"===v.schedule_for_today?"annuaire-day-close":"annuaire-day-open"},l.createElement(s.HT,{text:v.schedule_for_today})),l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",fill:"currentColor",className:"bi bi-caret-down-fill",viewBox:"0 0 16 16"},l.createElement("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"}))):l.createElement("div",null,l.createElement("ul",null,v.table_date.map((e,t)=>{const r=Object.keys(e)[0],a=e[r];return l.createElement("li",{key:t},l.createElement("strong",null,l.createElement(s.HT,{text:r}),":")," ",a)}))))),v.phones&&v.phones.length>0?l.createElement("div",{className:"annuaire-phone"},l.createElement("div",{className:"annuaire-phone-icon"},l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},l.createElement("path",{d:"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"}))),l.createElement("div",{className:"annuaire-phone-content"},v.phones.map((e,t)=>l.createElement("span",{key:t},e.label?e.label+": ":"",l.createElement("a",{href:"tel:"+e.number},e.number))))):"",v.mails&&v.mails.length>0?l.createElement("div",{className:"annuaire-website-mails"},l.createElement("div",{className:"annuaire-website-mails-icon"},l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},l.createElement("path",{d:"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.801V4.697l-5.803 3.546Z"}))),l.createElement("div",{className:"annuaire-website-mails-content"},v.mails.map((e,t)=>l.createElement("span",{key:t},e.label?e.label+": ":"",l.createElement("a",{href:"mailto:"+e.mail_address},e.mail_address))))):"",v.urls&&v.urls.filter(e=>"website"===e.type).length>0?l.createElement("div",{className:"annuaire-website-link"},l.createElement("div",{className:"annuaire-website-link-icon"},l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},l.createElement("path",{d:"M2.5 2A1.5 1.5 0 0 0 1 3.5V12h14V3.5A1.5 1.5 0 0 0 13.5 2h-11zM0 12.5h16a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 12.5z"}))),l.createElement("ul",{className:"annuaire-website-link-content"},v.urls.filter(e=>"website"===e.type).map((e,t)=>l.createElement(l.Fragment,null,l.createElement("li",{key:t},l.createElement("a",{href:e.url,target:"_blank",rel:"noreferrer"},e.url)))))):"",y&&l.createElement("div",{className:"annuaire-social-link"},y.length>1?l.createElement("ul",null,y.map((e,t)=>l.createElement("li",{key:t},l.createElement("a",{href:e.url,target:"_blank",rel:"noreferrer"},"facebook"===e.type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},l.createElement("path",{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"})):"instagram"===e.type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},l.createElement("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"})):"twitter"===e.type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-twitter-x",viewBox:"0 0 16 16"},l.createElement("path",{d:"M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"})):"youtube"===e.type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},l.createElement("path",{d:"M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31.4 31.4 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A99.788 99.788 0 0 1 7.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z"})):"linkedin"===e.type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-linkedin",viewBox:"0 0 16 16"},l.createElement("path",{d:"M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"})):"pinterest"===e.type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},l.createElement("path",{d:"M8 0a8 8 0 0 0-2.915 15.452c-.07-.633-.134-1.606.027-2.297.146-.625.938-3.977.938-3.977s-.239-.479-.239-1.187c0-1.113.645-1.943 1.448-1.943.682 0 1.012.512 1.012 1.127 0 .686-.437 1.712-.663 2.663-.188.796.4 1.446 1.185 1.446 1.422 0 2.515-1.5 2.515-3.664 0-1.915-1.377-3.254-3.342-3.254-2.276 0-3.612 1.707-3.612 3.471 0 .688.265 1.425.595 1.826a.24.24 0 0 1 .056.23c-.061.252-.196.796-.222.907-.035.146-.116.177-.268.107-1-.465-1.624-1.926-1.624-3.1 0-2.523 1.834-4.84 5.286-4.84 2.775 0 4.932 1.977 4.932 4.62 0 2.757-1.739 4.976-4.151 4.976-.811 0-1.573-.421-1.834-.919l-.498 1.902c-.181.695-.669 1.566-.995 2.097A8 8 0 1 0 8 0z"})):"")))):l.createElement("div",null,l.createElement("a",{href:y[0]&&y[0].url,target:"_blank",rel:"noreferrer"},y[0]&&"facebook"===y[0].type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},l.createElement("path",{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"})):y[0]&&"instagram"===y[0].type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},l.createElement("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"})):y[0]&&"twitter"===y[0].type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-twitter-x",viewBox:"0 0 16 16"},l.createElement("path",{d:"M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"})):y[0]&&"youtube"===y[0].type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},l.createElement("path",{d:"M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31.4 31.4 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A99.788 99.788 0 0 1 7.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z"})):y[0]&&"linkedin"===y[0].type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-linkedin",viewBox:"0 0 16 16"},l.createElement("path",{d:"M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"})):y[0]&&"pinterest"===y[0].type?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},l.createElement("path",{d:"M8 0a8 8 0 0 0-2.915 15.452c-.07-.633-.134-1.606.027-2.297.146-.625.938-3.977.938-3.977s-.239-.479-.239-1.187c0-1.113.645-1.943 1.448-1.943.682 0 1.012.512 1.012 1.127 0 .686-.437 1.712-.663 2.663-.188.796.4 1.446 1.185 1.446 1.422 0 2.515-1.5 2.515-3.664 0-1.915-1.377-3.254-3.342-3.254-2.276 0-3.612 1.707-3.612 3.471 0 .688.265 1.425.595 1.826a.24.24 0 0 1 .056.23c-.061.252-.196.796-.222.907-.035.146-.116.177-.268.107-1-.465-1.624-1.926-1.624-3.1 0-2.523 1.834-4.84 5.286-4.84 2.775 0 4.932 1.977 4.932 4.62 0 2.757-1.739 4.976-4.151 4.976-.811 0-1.573-.421-1.834-.919l-.498 1.902c-.181.695-.669 1.566-.995 2.097A8 8 0 1 0 8 0z"})):""))),v.logo_thumb_scale?l.createElement("img",{className:"annuaire-logo",src:v.logo_thumb_scale,alt:""}):"")),f&&l.createElement("div",{className:"r-content-files"},f.map((e,t)=>l.createElement("div",{key:t,className:"r-content-file"},l.createElement("a",{href:e.targetUrl,className:"r-content-file-link",rel:"nofollow"},l.createElement("span",{className:"r-content-file-title"},e.title),l.createElement("span",{className:"r-content-file-icon"},l.createElement("svg",{width:"21",height:"21",viewBox:"0 0 24 24",fill:"none",stroke:"#8899a4","stroke-width":"2","stroke-linecap":"square","stroke-linejoin":"arcs"},l.createElement("path",{d:"M3 15v4c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2v-4M17 9l-5 5-5-5M12 12.8V2.5"}))))))),b&&l.createElement("div",{className:"r-content-gallery"},l.createElement("div",{className:"spotlight-group flexbin r-content-gallery"},b.map((e,t)=>l.createElement("a",{key:t,className:"spotlight",href:e.image_full_scale},l.createElement("img",{src:e.image_preview_scale,alt:""})))))))},L=e=>{let{item:t,contextAuthenticatedUser:r}=e;const[a,n]=(0,l.useState)(new Image),[c,i]=(0,l.useState)(""),o=t.title&&t.title,m=t.taxonomy_contact_category&&t.taxonomy_contact_category[0],u=t.number?t.number:"",p=t.street?t.street:"",d=t.complement?t.complement:"",h=t.zipcode?t.zipcode:"",v=t.city?t.city:"",g=t.phones?t.phones:"",f=t.mails?t.mails:"",E=t.topics?t.topics:"";let b=t.country&&t.country.title,w="https://www.google.com/maps/dir/?api=1&destination="+t.street+"+"+t.number+"+"+t.complement+"+"+t.zipcode+"+"+t.city+"+"+b;return w=w.replaceAll("+null",""),(0,l.useEffect)(()=>{(t.image_affiche_scale||t.logo_thumb_scale)&&(async()=>{const e=new Image,r=t.image_affiche_scale||t.logo_thumb_scale||"";e.src=r;try{await e.decode(),n(e);const t=e.width<e.height?"img-contain":"img-cover";i(t)}catch(e){console.error("Error loading image:",e)}})()},[t]),l.createElement(l.Fragment,null,"False"===r?l.createElement("a",{href:t["@id"],target:"_blank",title:"Editer la fiche",className:"edit-rest-elements"},l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil-square",viewBox:"0 0 16 16"},l.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),l.createElement("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"}))):"",l.createElement("div",{className:"r-list-item"},a&&a.src?l.createElement(l.Fragment,null,l.createElement("div",{className:"r-item-img"},l.createElement("div",{className:"r-content-figure-blur",style:{backgroundImage:"url("+a.src+")"}}),l.createElement("img",{className:"r-content-figure-img "+c,src:a.src,alt:""}))):l.createElement(l.Fragment,null,l.createElement("div",{className:"r-item-img r-item-img-placeholder"})),l.createElement("div",{className:"r-item-text"},l.createElement("span",{className:"r-item-title"},o),m?l.createElement("span",{className:"r-item-categorie"},m.title):"",l.createElement("div",{className:"r-item-all"},p?l.createElement("div",{className:"r-item-adresse"},u?l.createElement("span",null,u+" "):"",p?l.createElement("span",null,p+", "):"",d?l.createElement("span",null,d+", "):"",l.createElement("br",null),h?l.createElement("span",null,h+" "):"",v?l.createElement("span",null,v):"",l.createElement("div",{className:"itineraty"},l.createElement("a",{href:w,target:"_blank",rel:"noreferrer"},l.createElement(s.HT,{text:"Itinéraire"})))):"",l.createElement("div",{className:"r-item-contact"},l.createElement("div",{className:"phones"},g?g.map((e,t)=>l.createElement("span",{key:t},e.number)):""),l.createElement("div",{className:"mails"},f?f.map((e,t)=>l.createElement("span",{key:t},e.mail_address)):""),l.createElement("div",{className:"topics"},E?E.slice(0,3).map((e,t)=>l.createElement("span",{key:t},e.title)):""))))))};var P=r(75681),M=r.n(P);const H=e=>{let{contactArray:t,onChange:r,onHover:n,contextAuthenticatedUser:i}=e;const{scrollPos:o,updateScrollPos:s}=(0,l.useContext)(c.z);function m(e){n(e)}return(0,l.useEffect)(()=>{window.scrollTo({top:o,left:0,behavior:"instant"})},[t]),(0,l.useEffect)(()=>{[{name:"description"},{property:"og:title"},{property:"og:description"},{property:"og:url"},{property:"og:type"},{property:"og:image"},{property:"og:image:type"},{property:"og:image:alt"},{property:"og:image:width"},{property:"og:image:height"}].forEach(e=>{let{name:t,property:r}=e;const l=t?'meta[name="'.concat(t,'"]'):'meta[property="'.concat(r,'"]'),a=document.head.querySelector(l);a&&document.head.removeChild(a)});[{name:"description",content:"Annuaire"},{property:"og:title",content:"Annuaire"},{property:"og:description",content:"Annuaire"},{property:"og:url",content:"undefined"!=typeof window?window.location.href:""},{property:"og:type",content:"website"}].forEach(e=>{let{name:t,property:r,content:l}=e;const a=t?'meta[name="'.concat(t,'"]'):'meta[property="'.concat(r,'"]');let n=document.head.querySelector(a);n||(n=document.createElement("meta"),t&&n.setAttribute("name",t),r&&n.setAttribute("property",r),document.head.appendChild(n)),n.setAttribute("content",l)})},[]),l.createElement(l.Fragment,null,l.createElement("ul",{className:"r-result-list annuaire-result-list"},t.map((e,t)=>l.createElement("li",{key:t,className:"r-list-item-group",onMouseEnter:()=>m(e.UID),onMouseLeave:()=>m(null),onClick:()=>{return t=e.UID,r(t),void s(window.scrollY);var t}},l.createElement(a.N_,{className:"r-list-item-link",style:{textDecoration:"none"},to:{pathname:"/"+M()(e.title).replace(/[^a-zA-Z ]/g,"").replace(/\s/g,"-").toLowerCase(),search:"?u=".concat(e.UID),state:{idItem:e.UID}}}),l.createElement(L,{item:e,contextAuthenticatedUser:i,key:e.created})))))};var U=r(97378),q=r(48743);const F=["u"];function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,l)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(t){D(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function D(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var l=r.call(e,t||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e){const[t,r]=(0,l.useState)(0);return l.createElement(a.Kd,{basename:e.viewPath},l.createElement(s.Kq,{language:e.currentLanguage,translation:q.A},l.createElement(c.z.Provider,{value:{scrollPos:t,updateScrollPos:e=>{r(e)}}},l.createElement(V,{queryFilterUrl:e.queryFilterUrl,queryUrl:e.queryUrl,proposeUrl:e.proposeUrl,batchSize:e.batchSize,displayMap:e.displayMap,contextAuthenticatedUser:e.contextAuthenticatedUser}))))}function V(e){const t=Object.assign({b_start:0,fullobjects:1},m.A.parse((0,A.A)().toString())),{u:r}=t,a=function(e,t){if(null==e)return{};var r,l,a=function(e,t){if(null==e)return{};var r={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(-1!==t.indexOf(l))continue;r[l]=e[l]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(l=0;l<n.length;l++)r=n[l],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(t,F),{scrollPos:i,updateScrollPos:u}=(0,l.useContext)(c.z),[p,d]=(0,l.useState)(null),[h,v]=(0,l.useState)([]),[g,f]=(0,l.useState)(null),[E,b]=(0,l.useState)(null),[w,y]=(0,l.useState)(a),[x,N]=(0,l.useState)(0),[C,O]=(0,l.useState)(!1),k="True"===e.displayMap,{response:S,error:j,isLoading:L,isMore:P}=(0,o.A)({method:"get",url:"",baseURL:e.queryUrl,headers:{Accept:"application/json"},params:w,load:C},[]);(0,l.useEffect)(()=>{null!==S&&(d(P?e=>[...e,...S.items]:S.items),v(S.items_total))},[S]);const M=e=>{f(e)},q=e=>{b(e)};(0,l.useEffect)(()=>{y(e=>B(B({},e),{},{b_start:x}))},[x]);const T=(0,l.useRef)(),[D,I]=l.useState({height:0}),[V,R]=(0,l.useState)(0);let Z,W;(0,l.useEffect)(()=>{I({height:T.current.clientHeight}),R(T.current.offsetTop)},[T]),p&&p.length>0?(Z=l.createElement(H,{onChange:M,contactArray:p,onHover:q,contextAuthenticatedUser:e.contextAuthenticatedUser}),W=l.createElement(U.A,{headerHeight:D.height+V,clickId:g,hoverId:E,items:p,queryUrl:e.queryUrl})):L||(Z=l.createElement("p",null,l.createElement(s.HT,{text:"Aucun contact n'a été trouvé"})));const J=l.createElement("div",{className:"lds-roller-container"},l.createElement(s.HT,{text:"Chargement..."}),l.createElement("div",{className:"lds-roller"},l.createElement("div",null),l.createElement("div",null),l.createElement("div",null),l.createElement("div",null),l.createElement("div",null),l.createElement("div",null),l.createElement("div",null),l.createElement("div",null)));return l.createElement("div",{className:"ref ".concat(k?"view-map":"no-map")},l.createElement("div",{className:"r-result-filter-container",ref:T,style:{top:V}},l.createElement("div",{id:"r-result-filter",className:"r-result-filter container annuaire-result-filter"},l.createElement(_,{url:e.queryFilterUrl,activeFilter:w,onChange:e=>{O(!1),N(()=>0),y(e),window.scrollTo(0,0)}}),e.proposeUrl&&l.createElement("div",{className:"r-add-contact"},l.createElement("a",{target:"_blank",rel:"noreferrer",href:e.proposeUrl},l.createElement(s.HT,{text:"Proposer un contact"}),l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-plus-circle",viewBox:"0 0 16 16"},l.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),l.createElement("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"})))),h>0?l.createElement("p",{className:"r-results-numbers"},l.createElement("span",null,h),h>1?l.createElement(s.HT,{text:"contacts trouvés"}):l.createElement(s.HT,{text:"contact trouvé"})):l.createElement("p",{className:"r-results-numbers"},l.createElement(s.HT,{text:"Aucun résultat"})))),l.createElement(n.BV,null,l.createElement(n.qh,{exact:!0,path:"/",element:l.createElement("div",{className:"r-wrapper container r-annuaire-wrapper"},l.createElement("div",{className:"r-result r-annuaire-result"},l.createElement("div",null,null!==p?Z:J),l.createElement("div",{className:"r-load-more"},h-e.batchSize>x?l.createElement("div",null,l.createElement("span",{className:"no-more-result"},L?J:""),l.createElement("button",{onClick:()=>{u(window.scrollY),N(t=>t+parseInt(e.batchSize)),O(!0)},className:"btn-grad"},L?l.createElement(s.HT,{text:"Chargement..."}):l.createElement(s.HT,{text:"Plus de résultats"}))):l.createElement("span",{className:"no-more-result"},L?J:""))),k&&l.createElement("div",{className:"r-map annuaire-map",style:{top:D.height+V,height:"calc(100vh-"+D.height+V}},W))}),l.createElement(n.qh,{path:"/:name",element:l.createElement("div",{className:"r-wrapper container r-annuaire-wrapper"},l.createElement("div",{className:"r-result r-annuaire-result"},l.createElement(z,{queryUrl:e.queryUrl,onChange:M,contextAuthenticatedUser:e.contextAuthenticatedUser})),k&&l.createElement("div",{className:"r-map annuaire-map",style:{top:D.height+V,height:"calc(100vh-"+D.height+V}},W))})))}}}]);