"use strict";(self.webpackChunkimio_smartweb_core_webcomponents=self.webpackChunkimio_smartweb_core_webcomponents||[]).push([[251],{56939:(e,t,r)=>{r.r(t),r.d(t,{default:()=>D});var a=r(25602),l=r(8174),n=r(41665),c=r(64651),i=r(32101),s=r(86110),o=r(83198),m=r(72668),u=r(5762),p=r.n(u);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){v(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){let{onChange:t,sub:r,title:l,token:n,isActive:c,setCat:s,onClick:o}=e;const[m,u]=(0,a.useState)({first:null,second:null,third:null}),[p,d]=(0,a.useState)({secondLevel:!1,thirdLevel:!1}),[v,g]=(0,a.useState)({firstLevel:null,secondLevel:null}),f=(0,a.useMemo)(()=>r?r.map(e=>h({value:e.token,label:e.title},e.sub&&{sub:e.sub})):null,[r]),E=(0,a.useCallback)(()=>{d(e=>({secondLevel:!e.secondLevel,thirdLevel:!1})),u(e=>h(h({},e),{},{second:null,third:null}))},[]),b=(0,a.useCallback)((e,r)=>{if(null!=e&&e.sub){const a=e.sub.map(e=>({value:e.token,label:e.title}));u(t=>h(h({},t),{},{second:e.label,third:null})),g(e=>h(h({},e),{},{secondLevel:a})),d(e=>h(h({},e),{},{thirdLevel:!0})),t(e,r)}else u(t=>h(h({},t),{},{second:e.label,third:null})),g(e=>h(h({},e),{},{secondLevel:null})),t(e,r)},[t]),w=(0,a.useCallback)((e,r)=>{u(t=>h(h({},t),{},{third:e.label})),t(e,r)},[t]),y=(0,a.useCallback)((e,r)=>{s(e=>!e),p.secondLevel?t(null,{name:"taxonomy_contact_category_for_filtering"}):t({value:e,label:r},{name:"taxonomy_contact_category_for_filtering"})},[p.secondLevel,t,s]);return(0,a.useEffect)(()=>{c||(d({secondLevel:!1,thirdLevel:!1}),u(e=>h(h({},e),{},{second:null,third:null})))},[c]),(0,a.useEffect)(()=>{r&&g(e=>h(h({},e),{},{firstLevel:f}))},[r,f]),a.createElement("div",{onClick:o},a.createElement("div",{className:p.secondLevel?"dropDownFilter dropDownFilter-active":"dropDownFilter"},a.createElement("a",{className:"sub0",href:"#",value:l,onClick:e=>{e.preventDefault(),E(),y(n,l)}},l),v.firstLevel&&a.createElement("div",{className:p.secondLevel?"sub1 dropDownFilter-visible":"sub1 dropDownFilter-invisble"},a.createElement(i.Ay,{name:"taxonomy_contact_category_for_filtering",className:"select-custom-class library-facilities react-select-container ".concat(m.second&&"Catégories"!==m.second?"select-has-value":""),classNamePrefix:"react-select-custom-multi",onChange:b,options:v.firstLevel,value:m.second,placeholder:m.second?m.second:"Catégories"})),v.secondLevel&&a.createElement("div",{className:p.thirdLevel?"sub2 dropDownFilter-visible":"sub2 dropDownFilter-invisble"},a.createElement(i.Ay,{name:"taxonomy_contact_category_for_filtering",className:"react-custom-multi-select-container library-facilities ".concat(m.third&&"Catégories"!==m.third?"select-has-value":""),classNamePrefix:"react-select-custom-multi",onChange:w,options:v.secondLevel,value:m.third,placeholder:m.third?m.third:"Catégories"}))))}g.propTypes={onChange:p().func.isRequired,sub:p().arrayOf(p().shape({token:p().string.isRequired,title:p().string.isRequired,sub:p().array})),title:p().string.isRequired,token:p().string.isRequired,isActive:p().bool,setCat:p().func.isRequired,onClick:p().func},g.defaultProps={isActive:!1,onClick:()=>{}};const f=g;var E=r(94274),b=r(68473);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},w.apply(null,arguments)}function y(e,t){if(null==e)return{};var r,a,l=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){C(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function C(e,t,r){return(t=O(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}const k=function(e){let t=(0,n.Zp)();const[r,l]=(0,a.useState)(e.activeFilter),c={b_start:0,fullobjects:1},[u,p]=(0,a.useState)([]),[d,h]=(0,a.useState)(null),[v,g]=(0,a.useState)(null),[x,C]=(0,a.useState)(null),[k,_]=(0,a.useState)(!1),[A,S]=(0,a.useState)(null),[j,z]=(0,a.useState)(!1),L=(0,a.useMemo)(()=>({method:"get",url:"",baseURL:e.url,headers:{Accept:"application/json"},params:c}),[e.url]),{response:P,error:M,isLoading:H}=(0,s.A)(L),U=(0,a.useMemo)(()=>{var e,t,r;if(!P)return null;const a=null===(e=P.topics)||void 0===e?void 0:e.map(e=>({value:e.token,label:e.title})),l=function(e){let t=[];return e.forEach(e=>{let r=e.title.split(" » "),a=e.token,l=t;r.forEach(e=>{let t=l.find(t=>t.title===e);if(t)t.sub||(t.sub=[]),l=t.sub;else{let t={title:e,token:a,sub:[]};l.push(t),l=t.sub}})}),JSON.parse(JSON.stringify(t).replace(/,"sub":\[\]/g,""))}(P.taxonomy_contact_category);return{topics:a,taxonomy:null===(t=P.taxonomy_contact_category)||void 0===t?void 0:t.map(e=>({value:e.token,label:e.title})),facilities:null===(r=P.facilities)||void 0===r?void 0:r.map(e=>({value:e.token,label:e.title})),taxodonnee:l}},[P]);(0,a.useEffect)(()=>{U&&(p(U.topics),h(U.taxodonnee),g(U.taxonomy),C(U.facilities))},[U]);const F=(0,a.useCallback)(e=>{let{target:{name:t,value:r}}=e;r.length>2?l(e=>N(N({},e),{},{[t]:r}),[]):l(e=>{const r=N({},e),{[t]:a}=r;return y(r,[t].map(O))})}),q=(0,a.useCallback)((e,t)=>{console.log(e);const r=t.name;e?l(t=>N(N({},t),{},{[r]:e.value}),[]):l(e=>{const t=N({},e),{[r]:a}=t;return y(t,[r].map(O))})}),T=(0,a.useRef)(!0);(0,a.useEffect)(()=>{T.current?T.current=!1:(t({pathname:"./",search:m.A.stringify(r)}),e.onChange(r))},[r]);let B=u&&u.filter(t=>t.value===e.activeFilter.topics),D=(v&&v.filter(t=>t.value===e.activeFilter.taxonomy_contact_category),x&&x.filter(t=>t.value===e.activeFilter.facilities)),I=E.c&&E.c.filter(t=>t.value===e.activeFilter.topics);return(0,a.useEffect)(()=>{const e=()=>{z(window.innerWidth<=630)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),a.createElement(a.Fragment,null,a.createElement("div",{className:"react-filters-menu"},a.createElement("div",{className:"react-filters-container"},a.createElement("form",{className:"r-filter r-filter-search",onSubmit:function(t){t.preventDefault(),e.onChange(r)}},a.createElement("div",{className:"relative"},a.createElement(o.rk,null,e=>{let{translate:t}=e;return a.createElement("input",{className:"input-custom-class",name:"SearchableText",type:"text",value:r.SearchableText,onChange:F,placeholder:t({text:"Recherche"})})}),a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"#9f9f9f",strokeWidth:"4","aria-hidden":"true",display:"block",overflow:"visible",style:{height:16,width:16},viewBox:"0 0 32 32"},a.createElement("path",{d:"M13 24a11 11 0 1 0 0-22 11 11 0 0 0 0 22zm8-3 9 9"})))),a.createElement("div",{className:"react-sep-menu"}),a.createElement("div",{className:"r-filter top-filter topics-Filter"},a.createElement(o.rk,null,e=>{let{translate:t}=e;return a.createElement(i.Ay,{styles:b.E,name:"topics",className:"select-custom-no-border",isClearable:!0,onChange:q,options:u&&u,placeholder:t({text:"Thématiques"}),value:B&&B[0]})})),a.createElement("div",{className:"r-filter top-filter iam-Filter"},a.createElement(o.rk,null,e=>{let{translate:t}=e;return a.createElement(i.Ay,{styles:b.E,name:"iam",className:"select-custom-no-border",isClearable:!0,onChange:q,options:E.c&&E.c,placeholder:t({text:"Profil"}),value:I&&I[0]})})),a.createElement("div",{className:"r-filter  top-filter facilities-Filter"},a.createElement(o.rk,null,e=>{let{translate:t}=e;return a.createElement(i.Ay,{styles:b.E,name:"facilities",className:"select-custom-no-border",isClearable:!0,onChange:q,options:x&&x,placeholder:t({text:"Facilités"}),value:D&&D[0]})})))),a.createElement("button",{className:"more-filter-btn more-filter-btn-annuaire collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"false","aria-controls":"collapseOne"},a.createElement("span",null,a.createElement(o.rk,null,e=>{let{translate:t}=e;return a.createElement("span",null,t({text:"Catégories"}))})),a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",style:{height:16,width:16},fill:"none",stroke:"currentColor",strokeWidth:"3","aria-hidden":"true",display:"block",overflow:"visible"},a.createElement("path",{d:"M7 16H3m26 0H15M29 6h-4m-8 0H3m26 20h-4M7 16a4 4 0 108 0 4 4 0 00-8 0zM17 6a4 4 0 108 0 4 4 0 00-8 0zm0 20a4 4 0 108 0 4 4 0 00-8 0zm0 0H3"}))),a.createElement("div",{id:"collapseOne",className:"accordion-collapse ".concat(j?"collapse":""," more-filter-container"),"aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},a.createElement("div",{className:"accordion-body-annuaire"},a.createElement("span",{className:"accordion-body-annuaire-title-full-screen"},a.createElement(o.rk,null,e=>{let{translate:t}=e;return a.createElement("span",null,t({text:"Catégories"}))})),a.createElement("div",{className:"taxonomy-Filter"},d&&d.map((e,t)=>a.createElement(f,w({key:t},e,{setCat:_,isActive:t===A,onClick:()=>{S(t)},onChange:q,test:t})))))))};var _=r(18874),A=r(8872);r(1053);const S=["u"];const j=e=>{let{queryUrl:t,onChange:r,contextAuthenticatedUser:l}=e;const c=(0,n.Zp)(),i=Object.assign({UID:m.A.parse((0,_.A)().toString()).u,fullobjects:1}),{u}=i,p=function(e,t){if(null==e)return{};var r,a,l=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}(i,S),[d,h]=(0,a.useState)(p),[v,g]=(0,a.useState)({}),[f,E]=(0,a.useState)(),[b,w]=(0,a.useState)(),[y,x]=(0,a.useState)([]),[N,C]=(0,a.useState)(),[O,k]=(0,a.useState)(!0),{response:j,isLoading:z,error:L}=(0,s.A)({method:"get",url:"",baseURL:t,headers:{Accept:"application/json"},params:d},[]);(0,a.useEffect)(()=>{h(p)},[m.A.parse((0,_.A)().toString()).u]),(0,a.useEffect)(()=>{null!==j&&g(j.items[0]),window.scrollTo({top:0,left:0,behavior:"instant"})},[j]),(0,a.useEffect)(()=>{if(v.image_affiche_scale){const e=new Image;e.src=v.image_affiche_scale,e.onload=()=>{C(e)}}},[v]),(0,a.useEffect)(()=>{if(!v||!v.title)return;document.title=v.title;const e=(null==N?void 0:N.width)||"",t=(null==N?void 0:N.height)||"";[{name:"description"},{property:"og:title"},{property:"og:description"},{property:"og:url"},{property:"og:type"},{property:"og:image"},{property:"og:image:type"},{property:"og:image:alt"},{property:"og:image:width"},{property:"og:image:height"}].forEach(e=>{let{name:t,property:r}=e;const a=t?'meta[name="'.concat(t,'"]'):'meta[property="'.concat(r,'"]'),l=document.head.querySelector(a);l&&document.head.removeChild(l)});const r=[{name:"description",content:[v.subtitle,v.description].filter(Boolean).join(" - ")},{property:"og:title",content:v.title},{property:"og:description",content:[v.subtitle,v.description].filter(Boolean).join(" - ")},{property:"og:url",content:"undefined"!=typeof window?window.location.href:""},{property:"og:type",content:"profile"}];v.image_affiche_scale&&(r.push({property:"og:image",content:v.image_affiche_scale}),e&&t&&(r.push({property:"og:image:width",content:e}),r.push({property:"og:image:height",content:t}))),r.forEach(e=>{let{name:t,property:r,content:a}=e;const l=document.createElement("meta");t&&l.setAttribute("name",t),r&&l.setAttribute("property",r),l.setAttribute("content",a),document.head.appendChild(l)})},[v,N]),(0,a.useEffect)(()=>{v.urls&&x(v.urls.filter(e=>"website"!==e.type))},[v]),(0,a.useEffect)(()=>{v.items&&v.items.length>0&&(E(v.items.filter(e=>"File"===e["@type"])),w(v.items.filter(e=>"Image"===e["@type"])))},[v]);let P=v.country&&v.country.title,M="https://www.google.com/maps/dir/?api=1&destination="+v.street+"+"+v.number+"+"+v.complement+"+"+v.zipcode+"+"+v.city+"+"+P;M=M.replaceAll("+null","");return z?a.createElement("div",{className:"lds-roller-container"},a.createElement(o.HT,{text:"Chargement..."}),a.createElement("div",{className:"lds-roller"},a.createElement("div",null),a.createElement("div",null),a.createElement("div",null),a.createElement("div",null),a.createElement("div",null),a.createElement("div",null),a.createElement("div",null),a.createElement("div",null))):a.createElement("div",{className:"annuaire-content r-content"},a.createElement("button",{type:"button",onClick:function(){c(".."),r(null)}},a.createElement(o.HT,{text:"Retour"})),"False"===l?a.createElement("a",{href:v["@id"],target:"_blank",title:"Editer la fiche",className:"edit-rest-elements edit-rest-elements-content"},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil-square",viewBox:"0 0 16 16"},a.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),a.createElement("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"}))):"",a.createElement("article",null,a.createElement("header",null,a.createElement("h2",{className:"r-content-title"},v.title),v.subtitle?a.createElement("h3",{className:"r-content-subtitle"},v.subtitle):""),v.image_affiche_scale&&a.createElement("figure",{className:"r-content-figure"},a.createElement("div",{className:"r-content-figure-blur",style:{backgroundImage:"url("+v.image_affiche_scale+")"}}),a.createElement("img",{className:"r-content-figure-img",src:v.image_affiche_scale,style:{objectFit:N&&N.width>=N.height?"cover":"contain"},alt:""}))),a.createElement("div",{className:"contactCard"},a.createElement("div",{className:"contactText"},a.createElement("div",{className:"r-content-description"},a.createElement(A.oz,null,v.description)),a.createElement("div",{className:"contactTextAll"},a.createElement("p",{className:"annuaire-info-title"},a.createElement(o.HT,{text:"Infos pratiques"})),v.category?a.createElement("span",null,v.category):"",v.street?a.createElement("div",{className:"annaire-adresse"},a.createElement("div",{className:"annaire-adresse-icon"},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},a.createElement("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"}))),a.createElement("div",{className:"annaire-adresse-content"},a.createElement("a",{href:M,target:"_blank",rel:"noreferrer"},v.number?a.createElement("span",null,v.number+" "):"",v.street?a.createElement("span",null,v.street+", "):"",v.complement?a.createElement("span",null,v.complement+", "):"",v.zipcode?a.createElement("span",null,v.zipcode+" "):"",v.city?a.createElement("span",null,v.city):""))):"",v.table_date&&a.createElement("a",{href:"javascript:void(0)",onClick:()=>{k(!O)},className:"annuaire-schedul",role:"button","aria-expanded":"false","aria-label":"Afficher l'horaire complet"},a.createElement("div",{className:"annuaire-schedul-icon"},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-clock-fill",viewBox:"0 0 16 16"},a.createElement("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71z"}))),a.createElement("div",{className:"annuaire-schedul-content"},O?a.createElement(a.Fragment,null,a.createElement("span",{className:"Fermé"===v.schedule_for_today?"annuaire-day-close":"annuaire-day-open"},a.createElement(o.HT,{text:v.schedule_for_today})),a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",fill:"currentColor",className:"bi bi-caret-down-fill",viewBox:"0 0 16 16"},a.createElement("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"}))):a.createElement("div",null,a.createElement("ul",null,v.table_date.map((e,t)=>{const r=Object.keys(e)[0],l=e[r];return a.createElement("li",{key:t},a.createElement("strong",null,a.createElement(o.HT,{text:r}),":")," ",l)}))))),v.phones&&v.phones.length>0?a.createElement("div",{className:"annuaire-phone"},a.createElement("div",{className:"annuaire-phone-icon"},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},a.createElement("path",{d:"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"}))),a.createElement("div",{className:"annuaire-phone-content"},v.phones.map((e,t)=>a.createElement("span",{key:t},e.label?e.label+": ":"",a.createElement("a",{href:"tel:"+e.number},e.number))))):"",v.mails&&v.mails.length>0?a.createElement("div",{className:"annuaire-website-mails"},a.createElement("div",{className:"annuaire-website-mails-icon"},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},a.createElement("path",{d:"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.801V4.697l-5.803 3.546Z"}))),a.createElement("div",{className:"annuaire-website-mails-content"},v.mails.map((e,t)=>a.createElement("span",{key:t},e.label?e.label+": ":"",a.createElement("a",{href:"mailto:"+e.mail_address},e.mail_address))))):"",v.urls&&v.urls.length>0?a.createElement("div",{className:"annuaire-website-link"},a.createElement("div",{className:"annuaire-website-link-icon"},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},a.createElement("path",{d:"M2.5 2A1.5 1.5 0 0 0 1 3.5V12h14V3.5A1.5 1.5 0 0 0 13.5 2h-11zM0 12.5h16a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 12.5z"}))),a.createElement("ul",{className:"annuaire-website-link-content"},v.urls.filter(e=>"website"===e.type).map((e,t)=>a.createElement(a.Fragment,null,a.createElement("li",{key:t},a.createElement("a",{href:e.url,target:"_blank",rel:"noreferrer"},e.url)))))):"",y&&a.createElement("div",{className:"annuaire-social-link"},y.length>1?a.createElement("ul",null,y.map((e,t)=>a.createElement("li",{key:t},a.createElement("a",{href:e.url,target:"_blank",rel:"noreferrer"},"facebook"===e.type?a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},a.createElement("path",{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"})):"instagram"===e.type?a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},a.createElement("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"})):"twitter"===e.type?a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-twitter-x",viewBox:"0 0 16 16"},a.createElement("path",{d:"M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"})):"youtube"===e.type?a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},a.createElement("path",{d:"M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31.4 31.4 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A99.788 99.788 0 0 1 7.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z"})):"linkedin"===e.type?a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-linkedin",viewBox:"0 0 16 16"},a.createElement("path",{d:"M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"})):"pinterest"===e.type?a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},a.createElement("path",{d:"M8 0a8 8 0 0 0-2.915 15.452c-.07-.633-.134-1.606.027-2.297.146-.625.938-3.977.938-3.977s-.239-.479-.239-1.187c0-1.113.645-1.943 1.448-1.943.682 0 1.012.512 1.012 1.127 0 .686-.437 1.712-.663 2.663-.188.796.4 1.446 1.185 1.446 1.422 0 2.515-1.5 2.515-3.664 0-1.915-1.377-3.254-3.342-3.254-2.276 0-3.612 1.707-3.612 3.471 0 .688.265 1.425.595 1.826a.24.24 0 0 1 .056.23c-.061.252-.196.796-.222.907-.035.146-.116.177-.268.107-1-.465-1.624-1.926-1.624-3.1 0-2.523 1.834-4.84 5.286-4.84 2.775 0 4.932 1.977 4.932 4.62 0 2.757-1.739 4.976-4.151 4.976-.811 0-1.573-.421-1.834-.919l-.498 1.902c-.181.695-.669 1.566-.995 2.097A8 8 0 1 0 8 0z"})):"")))):a.createElement("div",null,a.createElement("a",{href:y[0]&&y[0].url,target:"_blank",rel:"noreferrer"},y[0]&&"facebook"===y[0].type?a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},a.createElement("path",{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"})):y[0]&&"instagram"===y[0].type?a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},a.createElement("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"})):y[0]&&"twitter"===y[0].type?a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-twitter-x",viewBox:"0 0 16 16"},a.createElement("path",{d:"M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"})):y[0]&&"youtube"===y[0].type?a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},a.createElement("path",{d:"M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31.4 31.4 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A99.788 99.788 0 0 1 7.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z"})):y[0]&&"linkedin"===y[0].type?a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-linkedin",viewBox:"0 0 16 16"},a.createElement("path",{d:"M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"})):y[0]&&"pinterest"===y[0].type?a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16"},a.createElement("path",{d:"M8 0a8 8 0 0 0-2.915 15.452c-.07-.633-.134-1.606.027-2.297.146-.625.938-3.977.938-3.977s-.239-.479-.239-1.187c0-1.113.645-1.943 1.448-1.943.682 0 1.012.512 1.012 1.127 0 .686-.437 1.712-.663 2.663-.188.796.4 1.446 1.185 1.446 1.422 0 2.515-1.5 2.515-3.664 0-1.915-1.377-3.254-3.342-3.254-2.276 0-3.612 1.707-3.612 3.471 0 .688.265 1.425.595 1.826a.24.24 0 0 1 .056.23c-.061.252-.196.796-.222.907-.035.146-.116.177-.268.107-1-.465-1.624-1.926-1.624-3.1 0-2.523 1.834-4.84 5.286-4.84 2.775 0 4.932 1.977 4.932 4.62 0 2.757-1.739 4.976-4.151 4.976-.811 0-1.573-.421-1.834-.919l-.498 1.902c-.181.695-.669 1.566-.995 2.097A8 8 0 1 0 8 0z"})):""))),v.logo_thumb_scale?a.createElement("img",{className:"annuaire-logo",src:v.logo_thumb_scale,alt:""}):"")),f&&a.createElement("div",{className:"r-content-files"},f.map((e,t)=>a.createElement("div",{key:t,className:"r-content-file"},a.createElement("a",{href:e.targetUrl,className:"r-content-file-link",rel:"nofollow"},a.createElement("span",{className:"r-content-file-title"},e.title),a.createElement("span",{className:"r-content-file-icon"},a.createElement("svg",{width:"21",height:"21",viewBox:"0 0 24 24",fill:"none",stroke:"#8899a4","stroke-width":"2","stroke-linecap":"square","stroke-linejoin":"arcs"},a.createElement("path",{d:"M3 15v4c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2v-4M17 9l-5 5-5-5M12 12.8V2.5"}))))))),b&&a.createElement("div",{className:"r-content-gallery"},a.createElement("div",{className:"spotlight-group flexbin r-content-gallery"},b.map((e,t)=>a.createElement("a",{key:t,className:"spotlight",href:e.image_full_scale},a.createElement("img",{src:e.image_preview_scale,alt:""})))))))},z=e=>{let{item:t,contextAuthenticatedUser:r}=e;const[l,n]=(0,a.useState)(new Image),[c,i]=(0,a.useState)(""),s=t.title&&t.title,m=t.taxonomy_contact_category&&t.taxonomy_contact_category[0],u=t.number?t.number:"",p=t.street?t.street:"",d=t.complement?t.complement:"",h=t.zipcode?t.zipcode:"",v=t.city?t.city:"",g=t.phones?t.phones:"",f=t.mails?t.mails:"",E=t.topics?t.topics:"";let b=t.country&&t.country.title,w="https://www.google.com/maps/dir/?api=1&destination="+t.street+"+"+t.number+"+"+t.complement+"+"+t.zipcode+"+"+t.city+"+"+b;return w=w.replaceAll("+null",""),(0,a.useEffect)(()=>{(t.image_affiche_scale||t.logo_thumb_scale)&&(async()=>{const e=new Image,r=t.image_affiche_scale||t.logo_thumb_scale||"";e.src=r;try{await e.decode(),n(e);const t=e.width<e.height?"img-contain":"img-cover";i(t)}catch(e){console.error("Error loading image:",e)}})()},[t]),a.createElement(a.Fragment,null,"False"===r?a.createElement("a",{href:t["@id"],target:"_blank",title:"Editer la fiche",className:"edit-rest-elements"},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil-square",viewBox:"0 0 16 16"},a.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),a.createElement("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"}))):"",a.createElement("div",{className:"r-list-item"},l&&l.src?a.createElement(a.Fragment,null,a.createElement("div",{className:"r-item-img"},a.createElement("div",{className:"r-content-figure-blur",style:{backgroundImage:"url("+l.src+")"}}),a.createElement("img",{className:"r-content-figure-img "+c,src:l.src,alt:""}))):a.createElement(a.Fragment,null,a.createElement("div",{className:"r-item-img r-item-img-placeholder"})),a.createElement("div",{className:"r-item-text"},a.createElement("span",{className:"r-item-title"},s),m?a.createElement("span",{className:"r-item-categorie"},m.title):"",a.createElement("div",{className:"r-item-all"},p?a.createElement("div",{className:"r-item-adresse"},u?a.createElement("span",null,u+" "):"",p?a.createElement("span",null,p+", "):"",d?a.createElement("span",null,d+", "):"",a.createElement("br",null),h?a.createElement("span",null,h+" "):"",v?a.createElement("span",null,v):"",a.createElement("div",{className:"itineraty"},a.createElement("a",{href:w,target:"_blank",rel:"noreferrer"},a.createElement(o.HT,{text:"Itinéraire"})))):"",a.createElement("div",{className:"r-item-contact"},a.createElement("div",{className:"phones"},g?g.map((e,t)=>a.createElement("span",{key:t},e.number)):""),a.createElement("div",{className:"mails"},f?f.map((e,t)=>a.createElement("span",{key:t},e.mail_address)):""),a.createElement("div",{className:"topics"},E?E.slice(0,3).map((e,t)=>a.createElement("span",{key:t},e.title)):""))))))};var L=r(75681),P=r.n(L);const M=e=>{let{contactArray:t,onChange:r,onHover:n,contextAuthenticatedUser:i}=e;const{scrollPos:s,updateScrollPos:o}=(0,a.useContext)(c.z);function m(e){n(e)}return(0,a.useEffect)(()=>{window.scrollTo({top:s,left:0,behavior:"instant"})},[t]),(0,a.useEffect)(()=>{[{name:"description"},{property:"og:title"},{property:"og:description"},{property:"og:url"},{property:"og:type"},{property:"og:image"},{property:"og:image:type"},{property:"og:image:alt"},{property:"og:image:width"},{property:"og:image:height"}].forEach(e=>{let{name:t,property:r}=e;const a=t?'meta[name="'.concat(t,'"]'):'meta[property="'.concat(r,'"]'),l=document.head.querySelector(a);l&&document.head.removeChild(l)});[{name:"description",content:"Annuaire"},{property:"og:title",content:"Annuaire"},{property:"og:description",content:"Annuaire"},{property:"og:url",content:"undefined"!=typeof window?window.location.href:""},{property:"og:type",content:"website"}].forEach(e=>{let{name:t,property:r,content:a}=e;const l=t?'meta[name="'.concat(t,'"]'):'meta[property="'.concat(r,'"]');let n=document.head.querySelector(l);n||(n=document.createElement("meta"),t&&n.setAttribute("name",t),r&&n.setAttribute("property",r),document.head.appendChild(n)),n.setAttribute("content",a)})},[]),a.createElement(a.Fragment,null,a.createElement("ul",{className:"r-result-list annuaire-result-list"},t.map((e,t)=>a.createElement("li",{key:t,className:"r-list-item-group",onMouseEnter:()=>m(e.UID),onMouseLeave:()=>m(null),onClick:()=>{return t=e.UID,r(t),void o(window.scrollY);var t}},a.createElement(l.N_,{className:"r-list-item-link",style:{textDecoration:"none"},to:{pathname:"/"+P()(e.title).replace(/[^a-zA-Z ]/g,"").replace(/\s/g,"-").toLowerCase(),search:"?u=".concat(e.UID),state:{idItem:e.UID}}}),a.createElement(z,{item:e,contextAuthenticatedUser:i,key:e.created})))))};var H=r(97378),U=r(48743);const F=["u"];function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach(function(t){B(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function B(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e){const[t,r]=(0,a.useState)(0);return a.createElement(l.Kd,{basename:e.viewPath},a.createElement(o.Kq,{language:e.currentLanguage,translation:U.A},a.createElement(c.z.Provider,{value:{scrollPos:t,updateScrollPos:e=>{r(e)}}},a.createElement(I,{queryFilterUrl:e.queryFilterUrl,queryUrl:e.queryUrl,proposeUrl:e.proposeUrl,batchSize:e.batchSize,displayMap:e.displayMap,contextAuthenticatedUser:e.contextAuthenticatedUser}))))}function I(e){const t=Object.assign({b_start:0,fullobjects:1},m.A.parse((0,_.A)().toString())),{u:r}=t,l=function(e,t){if(null==e)return{};var r,a,l=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}(t,F),{scrollPos:i,updateScrollPos:u}=(0,a.useContext)(c.z),[p,d]=(0,a.useState)(null),[h,v]=(0,a.useState)([]),[g,f]=(0,a.useState)(null),[E,b]=(0,a.useState)(null),[w,y]=(0,a.useState)(l),[x,N]=(0,a.useState)(0),[C,O]=(0,a.useState)(!1),A="True"===e.displayMap,{response:S,error:z,isLoading:L,isMore:P}=(0,s.A)({method:"get",url:"",baseURL:e.queryUrl,headers:{Accept:"application/json"},params:w,load:C},[]);(0,a.useEffect)(()=>{null!==S&&(d(P?e=>[...e,...S.items]:S.items),v(S.items_total))},[S]);const U=e=>{f(e)},q=e=>{b(e)};(0,a.useEffect)(()=>{y(e=>T(T({},e),{},{b_start:x}))},[x]);const B=(0,a.useRef)(),[D,I]=a.useState({height:0}),[V,R]=(0,a.useState)(0);let Z,W;(0,a.useEffect)(()=>{I({height:B.current.clientHeight}),R(B.current.offsetTop)},[B]),p&&p.length>0?(Z=a.createElement(M,{onChange:U,contactArray:p,onHover:q,contextAuthenticatedUser:e.contextAuthenticatedUser}),W=a.createElement(H.A,{headerHeight:D.height+V,clickId:g,hoverId:E,items:p,queryUrl:e.queryUrl})):L||(Z=a.createElement("p",null,a.createElement(o.HT,{text:"Aucun contact n'a été trouvé"})));const J=a.createElement("div",{className:"lds-roller-container"},a.createElement(o.HT,{text:"Chargement..."}),a.createElement("div",{className:"lds-roller"},a.createElement("div",null),a.createElement("div",null),a.createElement("div",null),a.createElement("div",null),a.createElement("div",null),a.createElement("div",null),a.createElement("div",null),a.createElement("div",null)));return a.createElement("div",{className:"ref ".concat(A?"view-map":"no-map")},a.createElement("div",{className:"r-result-filter-container",ref:B,style:{top:V}},a.createElement("div",{id:"r-result-filter",className:"r-result-filter container annuaire-result-filter"},a.createElement(k,{url:e.queryFilterUrl,activeFilter:w,onChange:e=>{O(!1),N(()=>0),y(e),window.scrollTo(0,0)}}),e.proposeUrl&&a.createElement("div",{className:"r-add-contact"},a.createElement("a",{target:"_blank",rel:"noreferrer",href:e.proposeUrl},a.createElement(o.HT,{text:"Proposer un contact"}),a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-plus-circle",viewBox:"0 0 16 16"},a.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),a.createElement("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"})))),h>0?a.createElement("p",{className:"r-results-numbers"},a.createElement("span",null,h),h>1?a.createElement(o.HT,{text:"contacts trouvés"}):a.createElement(o.HT,{text:"contact trouvé"})):a.createElement("p",{className:"r-results-numbers"},a.createElement(o.HT,{text:"Aucun résultat"})))),a.createElement(n.BV,null,a.createElement(n.qh,{exact:!0,path:"/",element:a.createElement("div",{className:"r-wrapper container r-annuaire-wrapper"},a.createElement("div",{className:"r-result r-annuaire-result"},a.createElement("div",null,null!==p?Z:J),a.createElement("div",{className:"r-load-more"},h-e.batchSize>x?a.createElement("div",null,a.createElement("span",{className:"no-more-result"},L?J:""),a.createElement("button",{onClick:()=>{u(window.scrollY),N(t=>t+parseInt(e.batchSize)),O(!0)},className:"btn-grad"},L?a.createElement(o.HT,{text:"Chargement..."}):a.createElement(o.HT,{text:"Plus de résultats"}))):a.createElement("span",{className:"no-more-result"},L?J:""))),A&&a.createElement("div",{className:"r-map annuaire-map",style:{top:D.height+V,height:"calc(100vh-"+D.height+V}},W))}),a.createElement(n.qh,{path:"/:name",element:a.createElement("div",{className:"r-wrapper container r-annuaire-wrapper"},a.createElement("div",{className:"r-result r-annuaire-result"},a.createElement(j,{queryUrl:e.queryUrl,onChange:U,contextAuthenticatedUser:e.contextAuthenticatedUser})),A&&a.createElement("div",{className:"r-map annuaire-map",style:{top:D.height+V,height:"calc(100vh-"+D.height+V}},W))})))}}}]);